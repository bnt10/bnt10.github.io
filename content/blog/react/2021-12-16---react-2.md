---
title: react 개발일지-(2)
date: "2021-12-16"
template: "post"
draft: true
slug: "react 개발일지-2"
category: 
  "nextjs"
tags:
  - "react"
  - "nextjs"
  - "styles"
description: "사용 할 React 컴포넌트 스타일링 정하기"
socialImage: "/media/gatsby_icon.png"
---

### style 방식 결정
리엑트에서 명확히 정해진 스타일링이 없다. 
이번에 사용할 스타일링 방식을 결정해 보기로 하였다.

#### inline styles
먼저 결론적으로 사용안하는게 좋다라고 판단 하였다.
기본적으로 후보군을 찾으면서 제일 먼저 접하게 되는 스타일링 방식이다.
기본적인 설명과 사용하지 말라는 내용이 다수  
가장 큰 이유로 확장성이 떨어진다는 내용들이 많았다.
(기타: 전역관리, 유지보수)  
실제 작성해보고 별로인지 확인하고 싶어 작성 하는 시간을 가졌다.
(추후 정리부분)

#### styled-components 
이번에는 이 방식으로 진행하기로 결정  
CSS-in-JS방식의 CSS의 컴포넌트화 방식으로 작성
React-native 개발당시 차용하여  
사용한 경험이 결정에 큰 부분을 차지하여 아쉽다.. 

#### CSS Modules
CSS-in-CSS 방식으로 inline styles의 한계를 보완할 수 있는 방법이라 생각된다.
또한 CSS-in-JS 방식보다는 번들크기에서 작아 로딩시 이점이 있다
다음에는 이 방식으로 구성을 해보고싶다.  
(초기 응답이 중요하다면 이런 방식은 어떨지)

### styled-components 설치
#### 1.설치
```javascript
npm i styled-components && npm i -D @types/styled-components
//브라우별 style 공통으로 초기화
npm i --save styled-normalize
```
### styled-components 적용
#### 1.global style 작성 
 1.전역 스타일 type 선언
```javascript
// /src/styels/global-styled.d.ts
import 'styled-components'
declare module 'styled-components' {
  export interface DefaultTheme {
    device: {
      mobile: string,
      tablet: string,
      laptop: string,
    };
    dark: {
      mainBackground: string;
      // neutral color
      title: string;
      primaryText: string;
      secondaryText: string;
      disable: string;
      border: string;
      divider: string;
      background: string;
      tableHeader: string;
    };
    light: {
      mainBackground: string;
      // neutral color
      title: string;
      primaryText: string;
      secondaryText: string;
      disable: string;
      border: string;
      divider: string;
      background: string;
      tableHeader: string;
      // point-color
      // point-color
    };
    response: {};
  }
}
```
 2.전역으로 사용될 createGlobalStyle 정의 
```javascript
// /src/styels/global-styles.ts
import { createGlobalStyle } from "styled-components";
import { normalize } from "styled-normalize";

const GlobalStyle = createGlobalStyle`
  ${normalize}

  html,
  body {
    overflow: hidden;
  }

  html, body {width:100%; min-height:100%;}
  
  * {
    box-sizing: border-box;
  }
`;

export default GlobalStyle;
```
 3.사용할 테마 및 미디어 쿼리 정의
```javascript
// /src/styels/theme.tsx

import styled, { css, DefaultTheme } from 'styled-components';

export const theme: DefaultTheme = {
    device: {
        mobile: `screen and (max-width: ${"375px"})`,
        tablet: `screen and (max-width: ${"768px"})`,
        laptop: `screen and (max-width: ${"1024px"})`,
    },
    dark: {
        mainBackground: `#333`,
        // neutral color
        title: `rgba(255,255,255,0.85)`,
        primaryText: `rgba(255,255,255,0.65)`,
        secondaryText: `rgba(255,255,255,0.45)`,
        disable: `rgba(255,255,255,0.25)`,
        border: `rgba(255,255,255,0.15)`,
        divider: `rgba(255,255,255,0.06)`,
        background: `rgba(255,255,255,0.04)`,
        tableHeader: `rgba(255,255,255,0.02)`,
        // point-color
    },
    light: {
        mainBackground: `#fff`,
        // neutral color
        title: `rgba(0, 0, 0, 0.85)`,
        primaryText: `rgba(0, 0, 0, 0.75)`,
        secondaryText: `rgba(0, 0, 0, 0.45)`,
        disable: `rgba(0, 0, 0, 0.25)`,
        border: `rgba(0, 0, 0, 0.15)`,
        divider: `rgba(0, 0, 0, 0.06)`,
        background: `rgba(0, 0, 0, 0.04)`,
        tableHeader: `rgba(0, 0, 0, 0.02)`,
        // point-color
    },
    response: {},
};
```

#### 2.APP에 적용하기
1.ThemeProvider로 App을 감싸줍니다.
```javascript
//
import { AppProps } from 'next/app'
import { ThemeProvider } from 'styled-components';
import { theme } from 'src/styles/theme';
import GlobalStyle from 'src/styles/global-styles';

const MyApp = ({ Component, pageProps }: AppProps) => {
  return (
    <ThemeProvider theme={theme}>
      <GlobalStyle />
      <Component {...pageProps} />
    </ThemeProvider>
  )
}

export default MyApp
```